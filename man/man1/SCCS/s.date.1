h30863
s 00005/00005/00071
d D 6.7 03/11/08 13:34:04 msokolov 9 8
c document Y2K change
e
s 00008/00007/00068
d D 6.6 87/04/01 10:37:47 bostic 8 7
c timezone is really minutes_west
e
s 00011/00014/00064
d D 6.5 87/03/24 13:04:51 bostic 7 6
c added -t, -u for timezone, dst setting
e
s 00003/00000/00075
d D 6.4 86/05/18 21:55:06 lepreau 6 5
c exit status
e
s 00004/00002/00071
d D 6.3 86/04/13 21:05:45 karels 5 4
c add -n
e
s 00031/00015/00042
d D 6.2 85/06/24 13:12:50 gusella 4 3
c Date has been modified to work with timed(8) for 4.3BSD
e
s 00001/00001/00056
d D 6.1 85/04/29 14:21:23 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00010/00007/00047
d D 5.1 85/04/29 14:21:16 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00054/00000/00000
d D 4.1 85/04/29 14:21:09 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\"
.\"	%W% (Berkeley) %G%
.\"
D 2
.TH DATE 1 VAX/11
E 2
I 2
D 3
.TH DATE 1 "1 April 1983"
E 3
I 3
.TH DATE 1 "%Q%"
E 3
E 2
.UC 4
.SH NAME
date \- print and set the date
.SH SYNOPSIS
.B date
D 2
.RB "[ yymmddhhmm [ " . "ss ] ]"
E 2
I 2
D 5
.RB "[ -u ] [ yymmddhhmm [ " . "ss ] ]"
E 5
I 5
D 7
.RB "[ -n ] [ -u ] [ yymmddhhmm [ " . "ss ] ]"
E 7
I 7
D 8
.RB "[-nu] [-d dst] [-t timezone] [yymmddhhmm [" . "ss] ]"
E 8
I 8
D 9
.RB "[-nu] [-d dst] [-t minutes_west] [yymmddhhmm [" . "ss] ]"
E 9
I 9
.RB "[-nu] [-d dst] [-t minutes_west] [yyyymmddhhmm [" . "ss] ]"
E 9
E 8
E 7
E 5
E 2
.SH DESCRIPTION
D 2
If no argument is given, the current date and time are printed.
If an argument is given, the current date is set.
E 2
I 2
D 8
If no arguments are given, the current date and time are printed.
D 4
If a date is specified, the current date is set.
E 4
I 4
D 7
Providing an argument will set the desired date.
Only the superuser can set the date.
E 4
The
.I -u
D 4
flag is used to display the date in GMT (universal) time.
This flag may also be used to set GMT time.
E 4
I 4
flag is used to display or set the date in GMT (universal) time.
E 7
I 7
Providing an argument will set the desired date; only the superuser
can set the date.  The \fI-d\fP and \fI-t\fP flags set the kernel's
values for daylight savings time and minutes west of GMT.  If \fIdst\fP
is non-zero, future calls to \fIgettimeofday\fP(2) will return a non-zero
\fItz_dsttime\fP.  \fITimezone\fP provides the number of minutes returned
E 8
I 8
If no arguments are given, the current date and time are
printed.  Providing an argument will set the desired date;
only the superuser can set the date. The \fI-d\fP and \fI-t\fP
flags set the kernel's values for daylight savings time and
minutes west of GMT.  If \fIdst\fP is non-zero, future calls
to \fIgettimeofday\fP(2) will return a non-zero \fItz_dsttime\fP.
\fIMinutes_west\fP provides the number of minutes returned
E 8
by future calls to \fIgettimeofday\fP(2) in \fItz_minuteswest\fP.  The
\fI-u\fP flag is used to display or set the date in GMT (universal) time.
E 7
E 4
E 2
D 9
.I yy
D 4
is the last two digits of the year;
E 4
I 4
represents the last two digits of the year;
E 9
I 9
.I yyyy
is the year;
E 9
E 4
the first
.I mm
is the month number;
.I dd
D 4
is the day number in the month;
E 4
I 4
is the day number;
E 4
.I hh
is the hour number (24 hour system);
the second
.I mm
is the minute number;
.BI . ss
D 4
is optional and is the seconds.
E 4
I 4
is optional and represents the seconds.
E 4
For example:
.IP
D 4
date 10080045
E 4
I 4
D 9
date 8506131627
E 9
I 9
date 198506131627
E 9
E 4
.PP
D 4
sets the date to Oct 8, 12:45 AM.
The year, month and day may be omitted, the current
values being the defaults.
E 4
I 4
D 7
sets the date to June 13 1985, 4:27 PM.
The year, month and day may be omitted; the default
values will be the current ones.
E 4
The system operates in GMT.
.I Date
takes care of the conversion to and from
E 7
I 7
D 9
sets the date to June 13 1985, 4:27 PM.  The year, month and day may
E 9
I 9
sets the date to 1985-06-13, 16:27.  The year, month and day may
E 9
be omitted; the default values will be the current ones.  The system
operates in GMT.  \fIDate\fP takes care of the conversion to and from
E 7
D 4
local standard and daylight time.
E 4
I 4
local standard and daylight-saving time.
.PP
If 
.I timed(8)
is running to synchronize the clocks of machines in a local
area network, \fIdate\fP sets the time globally on all those
D 5
machines.
E 5
I 5
machines unless the
.B \-n
option is given.
E 5
E 4
.SH FILES
D 4
/usr/adm/wtmp to record time-setting
E 4
I 4
/usr/adm/wtmp to record time-setting.
In /usr/adm/messages, \fIdate\fP records the name of the user
setting the time.
E 4
.SH SEE ALSO
D 4
utmp(5)
E 4
I 4
gettimeofday(2), utmp(5), timed(8),
.br
\fITSP: The Time Synchronization Protocol for UNIX 4.3BSD\fP, 
R. Gusella and S. Zatti
E 4
.SH DIAGNOSTICS
I 6
Exit status is 0 on success, 1 on complete failure to set the date,
and 2 on successfully setting the local date but failing globally.
.PP
E 6
D 2
`No permission' if
you aren't the super-user and you try to change the date;
`bad conversion' if the date set is syntactically incorrect.
E 2
I 2
D 4
`Failed to set date: Not owner' if you try to change the date
E 4
I 4
D 7
`You are not superuser: date not set' if you try to change the date
E 4
but are not the super-user.
E 7
I 4
Occasionally, when \fItimed\fP synchronizes the time on many hosts, 
the setting of a new time value may require more than a few seconds.
On these occasions, \fIdate\fP prints: `Network time being set'.
The message `Communication error with timed' occurs when the communication
between \fIdate\fP and \fItimed\fP fails.
E 4
E 2
.SH BUGS
The system attempts to keep the date in a format closely compatible
with VMS.  VMS, however, uses local time (rather than GMT) and does
D 4
not understand daylight savings time.  Thus if you use both UNIX
E 4
I 4
not understand daylight-saving time.  Thus, if you use both UNIX
E 4
and VMS, VMS will be running on GMT.
E 1
